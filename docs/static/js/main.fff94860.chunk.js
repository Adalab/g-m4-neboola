(window["webpackJsonpg-m4-neboola"]=window["webpackJsonpg-m4-neboola"]||[]).push([[0],[,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAPBJREFUOBGtVcENgzAMJKj5dYIO0AnYgg88WIppGIQFWvXdBdpfH+ldk0igBhuFnGQixZfDNo4xVQLOOYvtLliD9RJoT6wzbKIZYz5hf3uBWA97wDSQ028qwVnDRk0l4eeZ+k84UyzqjytB7DLNo/DpQ8XCtJq14NAkUMNWeAwSi76YjsaDf2Ax2R6l0FGQfVYKjUGYL6idJUU0sKGfKUs8+N4nhfBzQ6fdwyOHEd6wXvceUHh31pB3sxRmCvKii2ANCZHknRMLrTZ2FAJXgm9sksEqd/UWb8+ZNDHi9XAIUZYdX4tIDw3Y5JdDHtm/gC9KId2tGwLIIwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAOZJREFUOBGllMsNwjAQRENEByThgqAeRB/0AKIS6qAFLhz5VABdIMW8xZ/YUmI7sNLE2fXMeO3IKZRSa/AEQ3EqMqKEcwSLDG6c4rWxiTMTs9YoQUtOy9ZGBQuvwAHUgZDCN4JiJIG8N5I7Y+OopqhcIfECfwauRteZDRlRLyOYM3czWm1mEteREV9sPXM8T3t2IqZv0PbM+aUJiUCiLeyKOs97omnAw2hli/VoI0QVkHOR0Cayvs6VO6NUT/Dt5+9MfjRaYrYDVbDo2I4CsZe4K4Lh35c29i+ShrP/R1s6fHld/vT6Ab6xbNDZnB+cAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAARZJREFUOBGtlUsSgjAMhinIJTiHB5EF93Fccg4ZH+PCg3gBZlx7AZYu8P9LMlMqjwpmJqSk6UfS1GqiAWnbNoV7J7qFzSTsBfuA3qnGmLf4xw1gOfQJnRPG5KMkTMbQco4yMM818Rd4IUz5ZQ8IL8tcK135oKTQkD3zP3iGI4PeZIKMNMKjEMcv5oTghGXCcqxS0FHpW6B1YQdvTUVg7TmnXqdgXFcT2DiEC8bcl6vj0+EcjHGNDzzKvmwwSbhKCIyxFuiXvBdoggB2MhRGoC15qCkuVLvpN4AAX2xTxo6NhUq2ITDC7bGZOtjMniWHSHewJYP//fQIpCCFJTeNZt6/HAT43+vLptlluuqCNQpyLepY/BfwAf1BvnvZFxpZAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAJRJREFUOBFjYMADhISEGkAYjxIGZlySwsLCGv///18GlHfi4uJi/P79+wFsanEaANTwhpub+wrQkCB8huA0AGQb0JAbhAzBawAxhhA0gJAhRBmAzxBGQUHB/yAF5ABGRsZGJnI0kq0HmDaCgC7+BXI1oQSGYQlQc+AI1KxJjJ9xJiRQZgLmQmZgXB989+5dA0aoQgUAg2llDyUUyF4AAAAASUVORK5CYII="},,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/profile.4fad9bc7.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAXhJREFUOBGFk7tKA0EUhrPiDbSUBBRttBGbaGttJzZeUBQRxGcQguBTCDYWWosEsRCx0kcQ1CqClZdShdi4fv8wsxkms7s/fDlnz5n5mTm7qVQiStO0FxbhDJ7gC9rQgibswlBka6fEggXQ5jJ9sGDb7UxcomgbS6QP0IYxyzyxBqFSClNJkrSyhkzsEf6I73AKq9APfbACtxBq1jfRdc5BJqE0lw0wpyduwQ9ITd9Eg9VMDkEnydM9DXM94gwcw6BvpLcj7YOuU6RXmvVss5f0kK/Z51HildeLpeMUD2INvalnewTNSIPVTPJ0TaNzHd+Rxrfd9UbU21m3z2HIN5Ehq3+9HcvkCdx5NaUyGYETiH1PxuiFptONNa9R0GAlcxKiTKRH6DajeKmup01rVqemuZmZEGUuE6nbjOKeaXV+NLNpmYWinm9Gcxg+wddRaOKeWVRotsMC9/e4IB9wG2MxYlbN1tGchLmsUJIEZo2S5cVtzKrQgIl/TNasApfCSpoAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAWCAYAAAD0OH0aAAAAAXNSR0IArs4c6QAAAHpJREFUOBFjYCAC/P//XxKIU0E0QeVARYZA/BaIQeAUEz4dQAWGQPk9QCyETx1YDqQYiGEmA5lgtgFWjTgUg2zDBMNeMcjLQE+eAmIYAAUj9tCAhg/eiMMMQ4gN2CIIry0gZ41qAgUntQLiFNa4QRZEs4mwBqjz4IUAAFU1kL/3h8u8AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAcRJREFUOBGtVT9PwkAc5a5xACfohhMwGJcuuDmyMqBJjVEHPwEbxsWkOsroZ5CojcIn8BPIZoIL4MQErAxE8L3mrqm1pkW85Xrv3nt3vz8cIhUxyuXyxnA4rC2Xy5oQYheUvKKNgL0C6xQKhU63252H5SIMmKa5v1gsmsBL4b3Qui+lbEwmk3YQl3rhOI7M5XI3MHsGFmdGWYlcaqjVPv4NuYFwGnpjlRkpaE6n03NqPEMVJm/254HwDxi+ZAFUzlYyw60eDMPYwvxEIT3oJVlNrJPkzD8QJveVSuVkPB6PAOpKl+gl2Ro+M8GHMjt1XfcTeb+G/kjL6CVBYJ8lGhFml0EhvVhu3bQpAI8qL26QyO84M8XP+/1DAFeeMy+WZR3TXJGSmnl0I51On+HLVGIrk8mIXq/3Uq1W20jyNozfUIBgzr6FqXTeBO6HyGazd1gdhzau0KiObdsG8UABfjVT+pZApWyE6oenjXGaZ8q1qmacGVNzKNiMg8GgB11UL7ZAYmv5raEPjJj7xWJx599/el6OZrPZO4qxiVP3Ik6OhRAFH4dbEv22qdfrF9yIVYcI1FCrYf/50sC6D+wPQxqv8xfwBWfy549KWHC+AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAMCAYAAACEJVa/AAAAAXNSR0IArs4c6QAAAOhJREFUKBVjYMABHBwcWHBIwYXxqhESEkoB4o+CgoJT4DrQGEC5dKCazyA1KLZJSUmJfP/+ffb///8DQHoYGRkN0fQySEhIiP78+XMOUNwPqA6sBm4I0FT3Hz9+LABKSqBrhPGBajx+/fo1H10Nk4KCAgfQSZOApm4HYqwGEFLD8unTp41Ak91gtmGjCalhAmpixKYRTQyvGiYuLi5/oIZpaJpQuITUMD158uT7+/fvs4G6vIGx8RJFN5RDSA3IO2AANGgbGxubLpCzGSqEQRGjBq4JmpA+gRISXBCNQYwaBrxJGmogTA0AY45W7Vm6GgAAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAM5JREFUOBFjFBQU9GJkZJz1//9/aQYyAFDvE6DeNEagQQ+B+uXIMAOuBWQYyKB/QBFGIPZ5//79VrgsEQygXm+gsi0gpXCDgIaADCMZAA37D9LERLJOHBqGuUFkBTJ6UA3jMAIlSHCCQvPzZU5OTotnz559QxaXkpLi+v79+wmgmC6yOIiNK4x0gRqy0RVDxTAMAaljQVeMxG8TEhL6z8bGthAk9uvXr3hgLm9Dkkdh4vIaiiJiOEygIoAYhfjUAM14zAR0bjolhoEMAZkBABACPBkbUg2fAAAAAElFTkSuQmCC"},,,function(e,t,a){e.exports=a(48)},,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),c=a.n(s),l=(a(40),a(15)),o=a(22),i=a(23),m=a(33),u=a(24),A=a(2),d=a(34),p=a(11),h=a.n(p),g=function(e){var t=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hidden container_error ".concat(!0===t?"text_error":"")},r.a.createElement("img",{className:"error_icon",src:h.a,alt:"Error icon"}),r.a.createElement("p",{className:"error_message"},"Oops! Don\u2019t worry. Add the missing information or correct the incorrect information and try again.")))},E=a(3),f=function(e){var t=e.email,a=e.getEmail,n=e.getFetch,s=e.error;return r.a.createElement("div",{className:"login_container"},r.a.createElement("header",{className:"app_header"},r.a.createElement("h1",{className:"header_title"},"neboola")),r.a.createElement("main",{className:"app_main"},r.a.createElement("div",{className:"app_input-and-login"},r.a.createElement("h2",{className:"main_title"},"Vacacioonero"),r.a.createElement("form",{action:"",className:"form_login",id:"login"},r.a.createElement("label",{htmlFor:"input_mail",className:"label_login"},r.a.createElement("input",{type:"email",className:"input_mail",name:"input_mail",onChange:a,value:t,placeholder:"Email"})),r.a.createElement("p",{className:"hidden  ".concat(!0===s?"message_error":"")},"Error:This email is not correct- example@neboola.co")),r.a.createElement(E.b,{to:t.toLowerCase().includes("@neboola.co".toLowerCase())&&"@"!==t.charAt(0)?"/profile":"/",className:"profile_link"},r.a.createElement("input",{type:"submit",className:"btn_login",form:"login",value:"Enter",onClick:n}))),r.a.createElement(g,{email:t,domain:"@neboola.co",error:s})))},N=a(8),b=a(12),D=a.n(b),v=a(27),y=a.n(v),C=a(28),S=a.n(C),R=a(13),q=a.n(R),I=function(e){var t=e.data,a=e.deleteLS;return r.a.createElement("div",{className:"profile_container"},r.a.createElement("header",{className:"prof_header"},r.a.createElement("h1",{className:"prof_title"},"Neboola"),r.a.createElement(E.b,{to:"/",className:"link",onClick:a},r.a.createElement("img",{src:D.a,alt:"Logout icon",className:"prof_logout-icon"}))),r.a.createElement("main",{className:"prof_main"},r.a.createElement("div",{className:"prof_container"},r.a.createElement("div",{className:"prof_user-container"},r.a.createElement("img",{src:y.a,alt:"",className:"prof_img"}),r.a.createElement("div",{className:"prof_name-and-mail"},r.a.createElement("h2",{className:"prof_user-name"},"Judith Elliott"),r.a.createElement("p",{className:"prof_mail"},t.email))),r.a.createElement(E.b,{to:"/profile/new-request",className:"link newrequest_link"},r.a.createElement("p",{className:"newrequest_link_text"},"Request free time"))),r.a.createElement("div",{className:"info_container-nav"},r.a.createElement(E.b,{to:"/profile/info",className:"link info_link"},r.a.createElement("div",{className:"prof-info_container margin-right"},r.a.createElement("div",{className:"prof_icon-container"},r.a.createElement("img",{className:"prof_icon",src:S.a,alt:"Umbrella icon"})),r.a.createElement("p",{className:"prof_number"},t.remainingDays),r.a.createElement("p",{className:"prof_text"},"available days"))),r.a.createElement(E.b,{to:"/profile/info",className:"link info_link"},r.a.createElement("div",{className:"prof-info_container margin-left"},r.a.createElement("div",{className:"prof_icon-container"},r.a.createElement("img",{className:"prof_icon",src:q.a,alt:"Check icon"})),r.a.createElement("p",{className:"prof_number"},t.requestedDays),r.a.createElement("p",{className:"prof_text"},"scheduled days"))))))},w=a(29),k=a.n(w),U=function(e){var t=e.deleteLS,a=e.updateState;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement(E.b,{to:"/profile",onClick:a,className:"link header_back-link"},r.a.createElement("img",{src:k.a,alt:"Go-back icon",className:""}),r.a.createElement("h1",{className:"prof_title2 "},"Neboola")),r.a.createElement(E.b,{to:"/",className:"link",onClick:t},r.a.createElement("img",{src:D.a,alt:"Logout icon",className:"prof_logout-icon"}))))},B=a(6),O=a.n(B),x=a(14),Q=a.n(x),_=a(30),Y=a.n(_),G=a(31),F=a.n(G),J=a(32),j=a.n(J),M=function(e){var t=e.requests,a=e.collapsibleId,n=e.handleCollapsible,s=e.currentDay,c=e.handleOption,l=e.option,o=e.promptDelete,i=e.deleteLS,m=e.updateState,u=[],A=0,d=void 0,p="";switch(l){case"requested":A=(u=t.filter((function(e){return"approved"!==e.status}))).map((function(e){return e.daysCount})).reduce((function(e,t){return e+t}),0),d=j.a,p="Free time";break;case"past":A=(u=t.filter((function(e){return"approved"===e.status&&O()(e.endDate).format("DD-MM-YYYY")<s}))).map((function(e){return e.daysCount})).reduce((function(e,t){return e+t}),0),d=F.a,p="Free time";break;case"scheduled":A=(u=t.filter((function(e){return"approved"===e.status&&O()(e.endDate).format("DD-MM-YYYY")>=s}))).map((function(e){return e.daysCount})).reduce((function(e,t){return e+t}),0),d=Y.a,p="Requested time";break;default:u=t}return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{updateState:m,deleteLS:i}),r.a.createElement("h2",{className:"info_title"},p),r.a.createElement("ul",{className:"options_list"},r.a.createElement("li",{className:"option ".concat("scheduled"===l?"selected-option":""),id:"scheduled",onClick:c},"scheduled"),r.a.createElement("li",{className:"option ".concat("past"===l?"selected-option":""),id:"past",onClick:c},"past"),r.a.createElement("li",{className:"option ".concat("requested"===l?"selected-option":""),id:"requested",onClick:c},"requests")),r.a.createElement("p",{className:"days-_count"},"".concat(A," days ").concat(l)),r.a.createElement("ul",{className:"info_list"},u.map((function(e){return r.a.createElement("li",{className:"info_collapsible",key:e._id},r.a.createElement("div",{id:e._id,className:"collapsible_container ".concat(a===e._id?"open":"")},r.a.createElement("div",{className:"box_request",onClick:n,"data-id":e._id},r.a.createElement("div",{className:"box_visible"},r.a.createElement("img",{className:"collapsible_icon",src:d,alt:""}),r.a.createElement("div",{className:"box_create"},r.a.createElement("p",{className:"create_date"},O()(e.createdAt).format("DD/MM/YYYY")),r.a.createElement("p",{className:"create_count"},e.daysCount," days"))),r.a.createElement("div",{className:"boxes_date rollContainer-js",d:e._id},r.a.createElement("div",{className:"date_container start"},r.a.createElement("p",{className:" text text-from"},"from"),r.a.createElement("p",{className:"date date-start"},O()(e.startDate).format("DD MMM YYYY")," ")),r.a.createElement("img",{className:"right-arrow",src:Q.a,alt:"flecha hacia la derecha"}),r.a.createElement("div",{className:"date_container end"},r.a.createElement("p",{className:" text text-to"},"to"),r.a.createElement("p",{className:"date date-end"}," ",O()(e.endDate).format("DD MMM YYYY"))),r.a.createElement("button",{type:"button",className:"delete-btn ".concat("requested"===l?"":"hidden"),id:e._id,onClick:o},"delete request")))))}))))},L=function(e){var t=e.getDate,a=e.startDate,n=e.endDate,s=e.currentDay;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dates_container"},r.a.createElement("div",{className:"start-date_container"},r.a.createElement("label",{htmlFor:"",className:"from-date_label"},"from"),r.a.createElement("input",{type:"date",name:"startDate",className:"date_input",onChange:t,value:a,min:s,required:!0}),r.a.createElement("div",{className:"from_container"},r.a.createElement("img",{src:"",alt:"",className:"start_icon"}))),r.a.createElement("img",{src:Q.a,alt:"Arrow to the right",className:"dates_arrow"}),r.a.createElement("div",{className:"end-date_container"},r.a.createElement("label",{htmlFor:"",className:"end-date_label"},"to"),r.a.createElement("input",{type:"date",name:"endDate",className:"date_input",onChange:t,value:n,required:!0}),r.a.createElement("div",{className:"end_container"},r.a.createElement("img",{src:"",alt:"",className:"end_icon"})))))},T=function(e){var t=e.errorNewRequest;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hidden container_error ".concat(!0===t?"text_error":"")},r.a.createElement("img",{className:"error_icon",src:h.a,alt:"Error icon"}),r.a.createElement("p",null,"Oops! Don\u2019t worry. Add the missing information or correct the incorrect information and try again.")))},K=function(e){var t=e.successNewRequest;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hidden container_success ".concat(!0===t?"text_success":"")},r.a.createElement("img",{className:"success_icon",src:q.a,alt:"Success icon"}),r.a.createElement("p",null,"Request successfully registered")))},Z=function(e){var t=e.getDate,a=e.startDate,n=e.endDate,s=e.currentDay,c=e.comment,l=e.handleCreateRequest,o=e.deleteLS,i=e.errorNewRequest,m=e.successNewRequest,u=e.updateState;return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{updateState:u,deleteLS:o}),r.a.createElement("h2",{className:"requests_time"},"Request free time"),r.a.createElement(L,{getDate:t,startDate:a,endDate:n,currentDay:s}),r.a.createElement("label",{htmlFor:"",className:"label_textarea"},r.a.createElement("textarea",{className:"input-comment",type:"text-area",placeholder:"Comment",maxLength:"140",name:"comment",value:c,onChange:t,rows:"5",cols:"33"})),r.a.createElement("button",{className:"btn_request",onClick:l},"Request holidays"),r.a.createElement(T,{errorNewRequest:i}),r.a.createElement(K,{successNewRequest:m}))},V=(a(47),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={data:{},email:"",startDate:"",endDate:"",currentDay:"",comment:"",countDays:0,collapsibleId:"",requests:[],error:!1,option:"scheduled",errorNewRequest:!1,successNewRequest:!1},a.getEmail=a.getEmail.bind(Object(A.a)(a)),a.getFetch=a.getFetch.bind(Object(A.a)(a)),a.getUser=a.getUser.bind(Object(A.a)(a)),a.deleteLS=a.deleteLS.bind(Object(A.a)(a)),a.getDate=a.getDate.bind(Object(A.a)(a)),a.getCurrentDate=a.getCurrentDate.bind(Object(A.a)(a)),a.getCountDays=a.getCountDays.bind(Object(A.a)(a)),a.handleCreateRequest=a.handleCreateRequest.bind(Object(A.a)(a)),a.postFetch=a.postFetch.bind(Object(A.a)(a)),a.handleCollapsible=a.handleCollapsible.bind(Object(A.a)(a)),a.getWeekends=a.getWeekends.bind(Object(A.a)(a)),a.handleOption=a.handleOption.bind(Object(A.a)(a)),a.removeRequest=a.removeRequest.bind(Object(A.a)(a)),a.promptDelete=a.promptDelete.bind(Object(A.a)(a)),a.updateState=a.updateState.bind(Object(A.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getUser(),this.getCurrentDate()}},{key:"getUser",value:function(){var e=JSON.parse(localStorage.getItem("User"));null!==e&&this.setState({email:e.email,data:e.data,startDate:e.startDate,endDate:e.endDate,comment:e.comment,countDays:e.countDays,requests:e.requests})}},{key:"getCurrentDate",value:function(){var e=this,t=new Date,a=t.getFullYear(),n=parseInt(t.getMonth())+1,r=t.getDate();parseInt(r)<10&&(r="0"+r),parseInt(n)<10&&(n="0"+n);var s=a+"-"+n+"-"+r;this.setState({currentDay:s},(function(){localStorage.setItem("User",JSON.stringify(e.state))}))}},{key:"handleCollapsible",value:function(e){var t=e.currentTarget.getAttribute("data-id");this.setState((function(e){return t===e.collapsibleId?{collapsibleId:null}:{collapsibleId:t}}))}},{key:"getEmail",value:function(e){var t=this,a=e.currentTarget.value;this.setState({email:a,error:!1},(function(){localStorage.setItem("User",JSON.stringify(t.state))}))}},{key:"getFetch",value:function(){var e=this;!1!==this.state.email.toLowerCase().includes("@neboola.co".toLowerCase())&&"@"!==this.state.email.charAt(0)||this.setState({error:!0}),fetch("https://neboola-holidays-api.herokuapp.com/open/users/"+this.state.email).then((function(e){return e.json()})).then((function(t){return e.setState({data:t},(function(){localStorage.setItem("User",JSON.stringify(e.state))}))})).catch((function(e){console.log(e)})),this.fetchRequest()}},{key:"fetchRequest",value:function(){var e=this;fetch("https://neboola-holidays-api.herokuapp.com/open/requests?owner="+this.state.email).then((function(e){return e.json()})).then((function(t){e.setState({requests:t},(function(){localStorage.setItem("User",JSON.stringify(e.state))}))}))}},{key:"deleteLS",value:function(){localStorage.removeItem("User"),this.setState({data:{},email:"",startDate:"",endDate:"",currentDay:"",comment:"",countDays:0,collapsibleId:"",requests:[],option:"scheduled",error:!1,errorNewRequest:!1,successNewRequest:!1})}},{key:"handleCreateRequest",value:function(){this.getCountDays()}},{key:"postFetch",value:function(){var e=this,t={owner:this.state.email,startDate:this.state.startDate,endDate:this.state.endDate,daysCount:this.state.countDays,status:"pending",userComments:this.state.comment};fetch("https://neboola-holidays-api.herokuapp.com/open/requests",{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return e.getFetch()})).then((function(t){e.setState({startDate:"",endDate:"",comment:""})}))}},{key:"getDate",value:function(e){var t,a=this,n=e.currentTarget.value,r=e.currentTarget.name;this.setState((t={},Object(l.a)(t,r,n),Object(l.a)(t,"errorNewRequest",!1),Object(l.a)(t,"successNewRequest",!1),t),(function(){localStorage.setItem("User",JSON.stringify(a.state))}))}},{key:"getCountDays",value:function(){var e=this,t=new O.a(this.state.startDate),a=new O.a(this.state.endDate),n=O.a.duration(a.diff(t)).days()+1;this.setState({countDays:n},(function(){localStorage.setItem("User",JSON.stringify(e.state)),e.getWeekends()}))}},{key:"getWeekends",value:function(){for(var e=this,t=O()(this.state.startDate),a=0,n=0;n<this.state.countDays;n++)6!==t.day()&&0!==t.day()||a++,t=t.add(1,"days");var r=this.state.countDays-a;this.setState({countDays:r},(function(){localStorage.setItem("User",JSON.stringify(e.state)),e.state.countDays<=0||isNaN(e.state.countDays)||e.state.data.remainingDays<e.state.countDays?e.setState({errorNewRequest:!0,successNewRequest:!1}):(e.setState({errorNewRequest:!1,successNewRequest:!0}),e.postFetch())}))}},{key:"handleOption",value:function(e){var t=e.currentTarget.id;this.setState({option:t})}},{key:"promptDelete",value:function(e){window.confirm("Do you want to delete this request?")&&this.removeRequest(e)}},{key:"removeRequest",value:function(e){var t=this,a=e.currentTarget.id;fetch("https://neboola-holidays-api.herokuapp.com/open/requests/"+a,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return t.getFetch()}))}},{key:"updateState",value:function(){this.setState({errorNewRequest:!1,successNewRequest:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.data,s=t.startDate,c=t.endDate,l=t.currentDay,o=t.comment,i=t.requests,m=t.collapsibleId,u=t.option,A=t.error,d=t.errorNewRequest,p=t.successNewRequest;return r.a.createElement("div",{className:"app"},r.a.createElement(N.c,null,r.a.createElement(N.a,{exact:!0,path:"/",render:function(){return r.a.createElement(f,{getEmail:e.getEmail,email:a,getFetch:e.getFetch,error:A})}}),r.a.createElement(N.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(I,{getEmail:e.getEmail,getFetch:e.getFetch,email:a,data:n,deleteLS:e.deleteLS})}}),r.a.createElement(N.a,{exact:!0,path:"/profile/new-request",render:function(){return r.a.createElement(Z,{email:a,getDate:e.getDate,startDate:s,endDate:c,currentDay:l,comment:o,handleCreateRequest:e.handleCreateRequest,deleteLS:e.deleteLS,errorNewRequest:d,successNewRequest:p,updateState:e.updateState})}}),r.a.createElement(N.a,{exact:!0,path:"/profile/info",render:function(){return r.a.createElement(M,{email:a,handleCollapsible:e.handleCollapsible,collapsibleId:m,requests:i,fetchRequest:e.fetchRequest,currentDay:l,option:u,handleOption:e.handleOption,removeRequest:e.removeRequest,promptDelete:e.promptDelete,deleteLS:e.deleteLS,updateState:e.updateState})}})))}}]),t}(r.a.Component));c.a.render(r.a.createElement(E.a,null,r.a.createElement(V,null)),document.getElementById("root"))}],[[35,1,2]]]);
//# sourceMappingURL=main.fff94860.chunk.js.map